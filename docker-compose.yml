version: '3.9'

services:
  docmatrix:
    image: docmatrix:1.0        # built locally, or replace with your registry path later
    container_name: docmatrix
    build: .
    ports:
      - "4001:4001"
    env_file:
      - .env
    volumes:
      - docmatrix_data:/app/data   # persistent database storage
      - ./frontend:/app/frontend   # optional: live frontend edits during dev
    restart: unless-stopped

volumes:
  docmatrix_data:
