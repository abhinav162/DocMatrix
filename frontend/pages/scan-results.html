<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scan Results - Document Scanner</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/documents.css">
  <link rel="stylesheet" href="../css/scan.css">
</head>
<body>
  <header>
    <nav id="main-nav">
      <!-- Navigation will be loaded dynamically -->
    </nav>
  </header>

  <main>
    <section class="document-container">
      <div class="page-header">
        <h1>Scan Results</h1>
        <p>View details of your document scan</p>
      </div>
      
      <div id="loading-indicator" class="loading-indicator">
        <div class="spinner"></div>
        <p>Loading scan results...</p>
      </div>
      
      <div id="scan-results" class="scan-results" style="display: none;">
        <div class="results-header">
          <h2>Scan Results</h2>
          <p>Results for document: <strong id="source-document-title">Document Title</strong></p>
          
          <div class="results-meta">
            <div class="meta-item">
              <strong>Scan Date:</strong> <span id="scan-date">January 1, 2023</span>
            </div>
            <div class="meta-item">
              <strong>Algorithm:</strong> <span id="scan-algorithm">Levenshtein</span>
            </div>
            <div class="meta-item">
              <strong>Threshold:</strong> <span id="scan-threshold">70%</span>
            </div>
          </div>
          
          <div class="results-actions">
            <a href="./scan.html" class="btn primary">New Scan</a>
            <button id="export-results-btn" class="btn secondary">Export Results</button>
            <a href="./scan-history.html" class="btn secondary">Back to History</a>
          </div>
        </div>
        
        <div class="matches-list">
          <h3 class="matches-count">Found <span id="matches-count">0</span> similar documents</h3>
          
          <div id="no-matches" class="no-matches" style="display: none;">
            <p>No similar documents were found matching your criteria.</p>
          </div>
          
          <div id="matches-grid" class="matches-grid">
            <!-- Match cards will be inserted here -->
          </div>
        </div>
      </div>
      
      <div id="comparison-view" class="comparison-view" style="display: none;">
        <div class="document-panel">
          <div class="document-panel-header">
            <h3 id="source-document-panel-title">Source Document</h3>
          </div>
          <div id="source-document-content" class="document-panel-content">
            Source document content will appear here.
          </div>
        </div>
        
        <div class="document-panel">
          <div class="document-panel-header">
            <h3 id="match-document-panel-title">Matched Document</h3>
          </div>
          <div id="match-document-content" class="document-panel-content">
            Matched document content will appear here.
          </div>
        </div>
        
        <div class="comparison-actions" style="grid-column: 1 / -1; text-align: center; margin-top: 1rem;">
          <button id="back-to-results-btn" class="btn secondary">Back to Results</button>
        </div>
      </div>
      
      <div id="status-message" class="status-message" style="display: none;"></div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <p>&copy; 2023 Document Scanner. All rights reserved.</p>
    </div>
  </footer>

  <!-- Match Card Template -->
  <template id="match-card-template">
    <div class="match-card">
      <div class="match-header">
        <h3 class="match-title">Document Title</h3>
        <div class="match-score">85%</div>
      </div>
      <div class="match-meta">
        <span class="owner">Owner: You</span> â€¢ 
        <span class="date">Uploaded on January 1, 2023</span>
      </div>
      <div class="match-content">
        Preview of document content...
      </div>
      <div class="match-actions">
        <button class="btn secondary small compare-btn">Compare</button>
        <button class="btn primary small view-btn">View</button>
      </div>
    </div>
  </template>

  <script src="../js/components/navigation.js" type="module"></script>
  <script src="../js/documents/scanResults.js" type="module"></script>
</body>
</html>
